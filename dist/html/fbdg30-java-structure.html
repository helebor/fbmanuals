<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>Organising the Folder Structure</title>
      <link rel="stylesheet" href="firebirddocs.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="index.html" title="Firebird Reference Documentation">
      <link rel="up" href="fbdevgd30-java.html" title="Chapter 7: Creating an Application with jOOQ and Spring MVC">
      <link rel="prev" href="fbdevgd30-java.html" title="Chapter 7: Creating an Application with jOOQ and Spring MVC">
      <link rel="next" href="fbdg30-java-config-class.html" title="Coding the Configuration">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <table xmlns:exsl="http://exslt.org/common" width="100%" border="0" cellpadding="4" cellspacing="0">
         <tr>
            <td bgcolor="#F0F0F0"><a href="http://www.firebirdsql.org/en/documentation/">Firebird Documentation Index</a> &rarr; <a href="fbdevgd30.html">Firebird 3.0 Developer's Guide PRE-BETA</a> &rarr; <a href="fbdevgd30-java.html">Creating an Application with jOOQ and Spring MVC</a> &rarr; Organising the Folder Structure
            </td>
         </tr>
         <tr height="8">
            <td></td>
         </tr>
      </table>
      <table xmlns:exsl="http://exslt.org/common" width="100%" border="0" cellpadding="0" cellspacing="0">
         <tr>
            <td><a href="http://www.firebirdsql.org"><img src="images/firebirdlogo.png" alt="Firebird Home" title="Firebird Home" border="0" width="85" height="84"></a></td>
            <td width="100%"><a href="http://www.firebirdsql.org"><img src="images/titleblackgill.gif" alt="Firebird Home" title="Firebird Home" border="0" width="215" height="40"></a></td>
            <td align="right" height="64" valign="top"><a href="fbdevgd30-java.html"><img src="images/prev-or18.png" width="30" height="30" border="0" title="Prev: Creating an Application with jOOQ and Spring MVC" alt="Prev: Creating an Application with jOOQ and Spring MVC"></a><a href="http://www.firebirdsql.org/en/documentation/"><img src="images/toc-or18.png" width="30" height="30" border="0" title="Firebird Documentation Index" alt="Firebird Documentation Index"></a><a href="fbdevgd30-java.html"><img src="images/top-or18.png" width="30" height="30" border="0" title="Up: Creating an Application with jOOQ and Spring MVC" alt="Up: Creating an Application with jOOQ and Spring MVC"></a><a href="fbdg30-java-config-class.html"><img src="images/next-or18.png" width="30" height="30" border="0" title="Next: Coding the Configuration" alt="Next: Coding the Configuration"></a></td>
         </tr>
      </table>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="fbdg30-java-structure"></a>Organising the Folder Structure
                  </h2>
               </div>
            </div>
         </div>
         <p>After a template-based project has been created, its folder structure will 
                need to be rearranged to suit Spring 4. In the NetBeans 8.2 environment, the 
                steps would be as follows:
                  
         </p>
         <div class="orderedlist">
            <ol type="1">
               <li>Delete the <code class="filename">index.html</code> file
               </li>
               <li>Create the <code class="filename">WEB-INF</code> folder inside the 
                          <code class="filename">Web Pages</code> folder
               </li>
               <li>Create the <code class="filename">jsp</code>, <code class="filename">jspf</code> 
                          and <code class="filename">resources</code> folders inside the <code class="filename">WEB-INF</code> folder
               </li>
               <li>Create the <code class="filename">js</code> and <code class="filename">CSS</code> 
                          folders inside the <code class="filename">resources</code> folder
               </li>
               <li>Create the <code class="filename">index.jsp</code> file inside 
                          the <code class="filename">jsp</code> folder
               </li>
            </ol>
         </div>
         <p>
                
         </p>
         <p>The new structure of the folders should look like this:
                  
         </p>
         <div class="figure"><a name="java-file-structure"></a><p class="title"><b>Figure&nbsp;7.1.&nbsp;Folder structure for the template-based project</b></p>
            <div class="figure-contents">
               <div class="mediaobject" align="center">
                  <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="387">
                     <tr style="height: 445px">
                        <td align="center"><img src="images/fbdevgd30_java_001_en.png" align="middle" width="387" alt="Folder structure for the template-based project"></td>
                     </tr>
                  </table>
               </div>
            </div>
            <p></p>
         </div>
         <p><br class="figure-break">
                
         </p>
         <p>The <code class="filename">WEB-INF/jsp</code> folder will contain jsp pages and the
                <code class="filename">jspf</code> folder will contain page fragments that will be added to
                other pages using the following directive:
                  
         </p><pre class="literallayout">

  &lt;%@ include file ="&lt;filename&gt;" %&gt;
      </pre><p>
                
         </p>
         <p>The <code class="filename">resources</code> folder is used to store static
                web resources&#8212;the <code class="filename">WEB-INF/resources/css</code> folder
                for cascading style sheet files, the <code class="filename">WEB-INF/resources/fonts</code>
                folder for font files, the <code class="filename">WEB-INF/resources/js</code> folder for
                JavaScript files and third-party JavaScript libraries.
         </p>
         <p>Now, we modify the <code class="filename">pom.xml</code> file and add the general
                properties of the application, dependencies on library packages (Spring MVC,
                Jaybird, JDBC pool, JOOQ) and the properties of the JDBC connection.
                  
         </p><pre class="literallayout">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                             http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;ru.ibase&lt;/groupId&gt;
    &lt;artifactId&gt;fbjavaex&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;name&gt;Firebird Java Example&lt;/name&gt;

    &lt;properties&gt;
        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;spring.version&gt;4.3.4.RELEASE&lt;/spring.version&gt;
        &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;
        &lt;javax.servlet.version&gt;3.0.1&lt;/javax.servlet.version&gt;
        &lt;db.url&gt;jdbc:firebirdsql://localhost:3050/examples&lt;/db.url&gt;
        &lt;db.driver&gt;org.firebirdsql.jdbc.FBDriver&lt;/db.driver&gt;
        &lt;db.username&gt;SYSDBA&lt;/db.username&gt;
        &lt;db.password&gt;masterkey&lt;/db.password&gt;
    &lt;/properties&gt;


    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax&lt;/groupId&gt;
            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;
            &lt;version&gt;7.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;${javax.servlet.version}&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;jstl&lt;/groupId&gt;
            &lt;artifactId&gt;jstl&lt;/artifactId&gt;
            &lt;version&gt;${jstl.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- Work with JSON --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
            &lt;version&gt;2.8.5&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;
            &lt;version&gt;2.8.5&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;version&gt;2.8.5&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;!-- Spring --&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
            &lt;version&gt;${spring.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
            &lt;version&gt;${spring.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;${spring.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
            &lt;version&gt;${spring.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
            &lt;version&gt;${spring.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- JDBC --&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;
            &lt;artifactId&gt;jaybird-jdk18&lt;/artifactId&gt;
            &lt;version&gt;3.0.0&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- Connection pool --&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;
            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;
            &lt;version&gt;1.4&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- jOOQ --&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.jooq&lt;/groupId&gt;
            &lt;artifactId&gt;jooq&lt;/artifactId&gt;
            &lt;version&gt;3.9.2&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.jooq&lt;/groupId&gt;
            &lt;artifactId&gt;jooq-meta&lt;/artifactId&gt;
            &lt;version&gt;3.9.2&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.jooq&lt;/groupId&gt;
            &lt;artifactId&gt;jooq-codegen&lt;/artifactId&gt;
            &lt;version&gt;3.9.2&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- Testing --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;4.11&lt;/version&gt;
            &lt;type&gt;jar&lt;/type&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;
            &lt;version&gt;${spring.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;

    &lt;build&gt;

        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.1&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;source&gt;1.7&lt;/source&gt;
                    &lt;target&gt;1.7&lt;/target&gt;
                    &lt;compilerArguments&gt;
                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;
                    &lt;/compilerArguments&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.3&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.6&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;phase&gt;validate&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;copy&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;
                            &lt;silent&gt;true&lt;/silent&gt;
                            &lt;artifactItems&gt;
                                &lt;artifactItem&gt;
                                    &lt;groupId&gt;javax&lt;/groupId&gt;
                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;
                                    &lt;version&gt;7.0&lt;/version&gt;
                                    &lt;type&gt;jar&lt;/type&gt;
                                &lt;/artifactItem&gt;
                            &lt;/artifactItems&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
      </pre><p>
                
         </p>
         <div class="note">
            <h3 class="title">What is a POM?</h3>
            <p>A <em class="firstterm">Project Object Model</em> or POM is the fundamental unit 
                       of work in Maven. It is an XML file that contains information about the project 
                       and configuration details used by Maven to build the project. More details can be 
                       found at 
               <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://maven.apache.org/guides/introduction/introduction-to-the-pom" target="_top">http://maven.apache.org/guides/introduction/introduction-to-the-pom</a>.
            </p>
         </div>
         <p>After all the necessary dependencies have been fulfilled, a restart of the
                POM is recommended, to load all the necessary libraries and avoid errors that might
                otherwise occur while you are working on the project. This is how it is done in
                NetBeans:
                  
         </p>
         <div class="figure"><a name="java-restart-pom"></a><p class="title"><b>Figure&nbsp;7.2.&nbsp;Restarting the POM from NetBeans</b></p>
            <div class="figure-contents">
               <div class="mediaobject" align="center">
                  <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="399">
                     <tr style="height: 638px">
                        <td align="center"><img src="images/fbdevgd30_java_002_en.png" align="middle" width="399" alt="Restarting the POM from NetBeans"></td>
                     </tr>
                  </table>
               </div>
            </div>
            <p></p>
         </div>
         <p><br class="figure-break">
                
         </p>
      </div>
      <table xmlns:exsl="http://exslt.org/common" width="100%" border="0" cellpadding="0" cellspacing="0">
         <tr>
            <td align="right" height="64" valign="bottom"><a href="fbdevgd30-java.html"><img src="images/prev-or18.png" width="30" height="30" border="0" title="Prev: Creating an Application with jOOQ and Spring MVC" alt="Prev: Creating an Application with jOOQ and Spring MVC"></a><a href="http://www.firebirdsql.org/en/documentation/"><img src="images/toc-or18.png" width="30" height="30" border="0" title="Firebird Documentation Index" alt="Firebird Documentation Index"></a><a href="fbdevgd30-java.html"><img src="images/top-or18.png" width="30" height="30" border="0" title="Up: Creating an Application with jOOQ and Spring MVC" alt="Up: Creating an Application with jOOQ and Spring MVC"></a><a href="fbdg30-java-config-class.html"><img src="images/next-or18.png" width="30" height="30" border="0" title="Next: Coding the Configuration" alt="Next: Coding the Configuration"></a></td>
         </tr>
      </table>
      <table xmlns:exsl="http://exslt.org/common" width="100%" border="0" cellpadding="4" cellspacing="0">
         <tr height="8">
            <td></td>
         </tr>
         <tr>
            <td bgcolor="#F0F0F0"><a href="http://www.firebirdsql.org/en/documentation/">Firebird Documentation Index</a> &rarr; <a href="fbdevgd30.html">Firebird 3.0 Developer's Guide PRE-BETA</a> &rarr; <a href="fbdevgd30-java.html">Creating an Application with jOOQ and Spring MVC</a> &rarr; Organising the Folder Structure
            </td>
         </tr>
      </table>
   </body>
</html>